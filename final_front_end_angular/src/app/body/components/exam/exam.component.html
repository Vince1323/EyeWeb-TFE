<p-toast></p-toast>
<p-confirmDialog></p-confirmDialog>

<div *ngIf="patient" class="card">
  <div class="grid formgrid p-fluid">
    <div class="field col-12 md:col-6">
      <label for="acuityOD">Visual Acuity OD</label>
      <input pInputText id="acuityOD" [(ngModel)]="exam.visualAcuityOD" [disabled]="!isEditMode" />
    </div>

    <div class="field col-12 md:col-6">
      <label for="acuityOS">Visual Acuity OS</label>
      <input pInputText id="acuityOS" [(ngModel)]="exam.visualAcuityOS" [disabled]="!isEditMode" />
    </div>

    <div class="field col-12 md:col-6">
      <label for="pressureOD">IOP OD (mmHg)</label>
      <input pInputText id="pressureOD" [(ngModel)]="exam.intraocularPressureOD" [disabled]="!isEditMode" />
    </div>

    <div class="field col-12 md:col-6">
      <label for="pressureOS">IOP OS (mmHg)</label>
      <input pInputText id="pressureOS" [(ngModel)]="exam.intraocularPressureOS" [disabled]="!isEditMode" />
    </div>

    <div class="field col-12">
      <label for="comments">Exam Comments</label>
      <textarea pInputTextarea id="comments" [(ngModel)]="exam.comments" rows="3" [disabled]="!isEditMode"></textarea>
    </div>
  </div>

  <div class="flex justify-content-end mt-4">
    <button pButton icon="pi pi-pencil" label="Edit" class="p-button-primary" (click)="toggleEditMode()" *ngIf="!isEditMode"></button>
    <button pButton icon="pi pi-check" label="Save" class="p-button-success" (click)="save()" *ngIf="isEditMode"></button>
  </div>
</div>
