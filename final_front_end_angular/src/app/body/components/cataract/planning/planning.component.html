<p-button label="Add Planning" icon="pi pi-plus" (click)="openNew()" class="mb-3"></p-button>

<p-table [value]="planningList">
  <ng-template pTemplate="header">
    <tr>
      <th>Date</th>
      <th>Side</th>
      <th>Description</th>
      <th>Notes</th>
      <th>Actions</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-planning>
    <tr>
      <td>{{ planning.planningDate }}</td>
      <td>{{ planning.eyeSide }}</td>
      <td>{{ planning.eyeDescription }}</td>
      <td>{{ planning.notes }}</td>
      <td>
        <p-button icon="pi pi-pencil" (click)="editPlanning(planning)" styleClass="p-button-sm mr-2"></p-button>
        <p-button icon="pi pi-trash" (click)="deletePlanning(planning)" styleClass="p-button-sm p-button-danger"></p-button>
      </td>
    </tr>
  </ng-template>
</p-table>

<p-dialog header="Planning" [(visible)]="planningDialog" [modal]="true" [style]="{ width: '30vw' }">
  <div class="p-fluid">
    <div class="p-field">
      <label for="planningDate">Date</label>
      <input id="planningDate" type="date" pInputText [(ngModel)]="newPlanning.planningDate" />
    </div>
    <div class="p-field">
      <label for="side">Side</label>
      <p-dropdown id="side" [options]="[{ label: 'OD', value: 'OD' }, { label: 'OS', value: 'OS' }, { label: 'OU', value: 'OU' }]" [(ngModel)]="newPlanning.eyeSide"></p-dropdown>
    </div>
    <div class="p-field">
      <label for="description">Description</label>
      <input id="description" type="text" pInputText [(ngModel)]="newPlanning.eyeDescription" />
    </div>
    <div class="p-field">
      <label for="notes">Notes</label>
      <textarea id="notes" rows="3" pInputTextarea [(ngModel)]="newPlanning.notes"></textarea>
    </div>
  </div>
  <ng-template pTemplate="footer">
    <p-button label="Cancel" icon="pi pi-times" (click)="planningDialog = false" class="p-button-text"></p-button>
    <p-button label="Save" icon="pi pi-check" (click)="savePlanning()"></p-button>
  </ng-template>
</p-dialog>
