<p-toast></p-toast>
<p-confirmDialog></p-confirmDialog>

<div *ngIf="patient" class="card">
  <div class="grid formgrid p-fluid">
    <div class="field col-12 md:col-4">
      <label for="date">Consultation Date</label>
      <p-calendar id="date" [(ngModel)]="consultation.date" dateFormat="dd/mm/yy" [showIcon]="true" [disabled]="!isEditMode" />
    </div>

    <div class="field col-12 md:col-8">
      <label for="reason">Reason for Visit</label>
      <input pInputText id="reason" [(ngModel)]="consultation.reason" [disabled]="!isEditMode" />
    </div>

    <div class="field col-12">
      <label for="symptoms">Symptoms</label>
      <textarea pInputTextarea id="symptoms" [(ngModel)]="consultation.symptoms" rows="3" [disabled]="!isEditMode"></textarea>
    </div>

    <div class="field col-12">
      <label for="comments">General Comments</label>
      <textarea pInputTextarea id="comments" [(ngModel)]="consultation.comments" rows="3" [disabled]="!isEditMode"></textarea>
    </div>
  </div>

  <div class="flex justify-content-end mt-4">
    <button pButton icon="pi pi-pencil" label="Edit" class="p-button-primary" (click)="toggleEditMode()" *ngIf="!isEditMode"></button>
    <button pButton icon="pi pi-check" label="Save" class="p-button-success" (click)="save()" *ngIf="isEditMode"></button>
  </div>
</div>
